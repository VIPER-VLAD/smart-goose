**Smart Goose** — готовое решение для создания форма обратной связи

## Для начала
Подключи jQuery на сайт, друг. Если подключен, то го дальше

## Установка
1. Папку **smart-goose** положи в корень проекта
2. Добавь этот скрипт в проект. Скрипт нужно добавлять после подключения jQuery
```
<script src="/smart-goose/js/smart-goose.js"></script>
```
## Вызов окна
Добаляем вызов **smart_goose.show_popup()** на **onclick** для **button**
```
<button type="button" onsubmit="smart_goose.show_popup();">Заказать звонок</button>
```

Или для ссылки, если надо

```
<a href="javascript:smart_goose.show_popup();">Заказать консультацию</a>
```

## Кастомизация
### Почта
Для отправки нужно указать почту, на которую будут приходить письма и почту отправителя. Для этого переходим в файл конфигурации **smart-goose/php/config.php** и здесь мы видим:
```
<?php
	$config = [
		'recipients' => [
			'myemail@gmail.com' //E-Mail получателя
		],
		'email' => [
			'subject' => 'Новая заявка на звонок', // Заголовок письма
			'from' => 'info@site.com', // E-Mail отправителя
			'from_name' => 'MySite', // Имя отправителя
			'message_template' => "{$_SERVER['DOCUMENT_ROOT']}/smart-goose/email-template.html" // Путь к шаблону письма
		],
		// Если нужно отправлять письма через SMTP, то здесь заполняем данные
		'smtp' => false,
		'smtp_host' => '',
		'smtp_port'  => 25,
		'smtp_username' => '',
		'smtp_password' => '',
		'smtp_charset' => 'UTF-8',
		'smtp_from' => ''
	];

```
### Шаблон письма
Если нужно изменить шаблон письма, то для тебя у меня есть очень простой
шаблонизатор. В квадратных скобках указываются имена полей:
```
<h2>Новая заявка!</h2>
<p><b>Имя: </b>[:name]</p>
<p><b>Телефон: </b>[:phone]</p>
```
### Всплывающее окно
Там еще можно менять текст во всплывающем окне:
1. Заходи в **smart-goose/js/smart-goose.js**
2. Тут есть много крутилок, но больше всего интересуют эти:
```
...
popup_settings: {
	title                    : "Получить консультацию",
	button_send_text         : "Отправить",
	button_waiting_text      : "Отправка...",
	thanks_title             : "Заявка отправлена",
	thanks_text              : "<p>Наш менеджер свяжется с Вами в ближайшее время</p>",
	error_block_show_duration: 7000,
	phone: {
		masking         : true,
		mask            : "+7 (999) 999-9999",
		valid_length    : 8,
		mask_placeholder: "_",
		require         : true,
		name            : 'phone'
	}
},
...
```
	
| Опция | Пояснение |
| ---------------|----------------|
| title |Заголовок всплывающего окна|
| button_send_text |Текст на кнопке для отправки письма|
| button_waiting_text |Текст на кнопке при отправке AJAX на сервак|
| thanks_title |Заголовок окна при успешной отправке|
| thanks_text |Текст под заголовком при успешной отправке|
| error_block_show_duration |Время показа ошибки для формы (например, ошибке при валидации)|
| phone.masking |Включить маску для поля телефон **(должен быть подключен 	jQuery Inputmask)**|
| phone.mask |Маска телефона.|
| phone.valid_length |Длина телефона для валидации. Валидация по этому параметру будет происходить, если выключена маска.|
| phone.mask_placeholder |Заполнитель для маски.|
| phone.require |Если **true**, то телефон будет обязательным для заполнения.|
| phone.name |Если используешь свои значения для атрибута **name** то не забудь здесь сменить, друг.|

## Ну все, этого должно хватить
